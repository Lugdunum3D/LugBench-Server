<div class="container-fluid">
  <ul class="nav nav-tabs" id="menu-categories">
    <li role="presentation" class="tab no-padding text-center" [class.active]="tabIndex === 'performances'">
      <a [routerLink]="['/devices', this.deviceId, 'performances']" class="no-margin">
        Performances
      </a>
    </li>
    <li role="presentation" class="tab no-padding text-center" [class.active]="tabIndex === 'properties'">
      <a [routerLink]="['/devices', this.deviceId, 'properties']" class="no-margin">
        Properties
      </a>
    </li>
    <li role="presentation" class="tab no-padding text-center" [class.active]="tabIndex === 'features'">
      <a [routerLink]="['/devices', this.deviceId, 'features']" class="no-margin">
        Features
      </a>
    </li>
    <li role="presentation" class="tab no-padding text-center tab-list-trigger" [class.active]="tabIndex === 'memory'">
      <a class="no-margin">
        Memory <i style="font-size: smaller;" class="glyphicon glyphicon-chevron-down"></i>
      </a>
      <ul class="tab-list">
        <li>
          <a [routerLink]="['/devices', this.deviceId, 'memorytype']">Memory type</a>
        </li>
        <li>
          <a [routerLink]="['/devices', this.deviceId, 'memoryheap']">Memory heap</a>
        </li>
      </ul>
    </li>
    <li role="presentation" class="tab no-padding text-center" [class.active]="tabIndex === 'extensions'">
      <a [routerLink]="['/devices', this.deviceId, 'extensions']" class="no-margin">
        Extensions
      </a>
    </li>
    <li role="presentation" class="tab no-padding text-center" [class.active]="tabIndex === 'formats'">
      <a [routerLink]="['/devices', this.deviceId, 'formats']" class="no-margin">
        Formats
      </a>
    </li>
    <li role="presentation" class="tab no-padding text-center" [class.active]="tabIndex === 'queues'">
      <a [routerLink]="['/devices', this.deviceId, 'queues']" class="no-margin">
        Queues
      </a>
    </li>
  </ul>
  <div class="container-fluid">
    <div class="content" *ngIf="device">
      <div id="performancesTab" class="tab-content" *ngIf="tabIndex === 'performances' && device.vulkanInfo.properties !== null">
        <section class="section">
          <div class="page-header">
            <h2>Performances</h2>
          </div>
          <div class="page-content">
            <scores-component></scores-component>
          </div>
        </section>
      </div>
      <div id="propertiesTab" class="tab-content" *ngIf="tabIndex === 'properties' && device.vulkanInfo.properties !== null">
        <section class="section">
          <div class="page-header">
            <h2>Device information</h2>
          </div>
          <div class="page-content" style="overflow: auto">
            <table class="table table-striped table-bordered table-responsive">
              <thead>
                <tr>
                  <td>Name</td>
                  <td>Values</td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Vendor ID</td>
                  <td>{{ device.vulkanInfo.properties.vendorID }}</td>
                </tr>
                <tr>
                  <td>Device ID</td>
                  <td>{{ device.vulkanInfo.properties.deviceID }}</td>
                </tr>
                <tr>
                  <td>Device Name</td>
                  <td>{{ device.vulkanInfo.properties.deviceName }}</td>
                </tr>
                <tr>
                  <td>Device Type</td>
                  <td>{{ device.vulkanInfo.properties.deviceType }}</td>
                </tr>
                <tr>
                  <td>Pipeline cache UUID</td>
                  <td>{{ device.vulkanInfo.properties.pipelineCacheUUID }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>
        <section class="section">
          <div class="page-header">
            <h2>Version information</h2>
          </div>
          <div class="page-content">
            <table class="table table-striped table-bordered table-responsive">
              <thead>
                <tr>
                  <th></th>
                  <th>Major</th>
                  <th>Minor</th>
                  <th>Patch</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Api version</td>
                  <td>{{ device.vulkanInfo.properties.apiVersion.major }}</td>
                  <td>{{ device.vulkanInfo.properties.apiVersion.minor }}</td>
                  <td>{{ device.vulkanInfo.properties.apiVersion.patch }}</td>
                </tr>
                <tr>
                  <td>Driver Version</td>
                  <td>{{ device.vulkanInfo.properties.driverVersion.major }}</td>
                  <td>{{ device.vulkanInfo.properties.driverVersion.minor }}</td>
                  <td>{{ device.vulkanInfo.properties.driverVersion.patch }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>
        <section>
          <div class="page-header">
            <h2>Sparse properties</h2>
          </div>
          <div class="page-content">
            <table class="table table-striped table-bordered table-responsive">
              <thead>
                <tr>
                  <th>Property name</th>
                  <th>Active</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let key of this.sparsePropertyKeys">
                  <td>{{ key }}</td>
                  <td>
                    <span class="glyphicon"
                      [class.glyphicon-ok]="this.device.vulkanInfo.properties['sparseProperties'][key] === true"
                      [class.text-success]="this.device.vulkanInfo.properties['sparseProperties'][key] === true"
                      [class.glyphicon-remove]="this.device.vulkanInfo.properties['sparseProperties'][key] === false"
                      [class.text-danger]="this.device.vulkanInfo.properties['sparseProperties'][key] === false"
                    aria-hidden="true"></span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>
        <section>
          <div class="page-header">
            <h2>Limits</h2>
          </div>
          <div class="page-content" style="overflow: auto">
            <table class="table table-striped table-bordered table-responsive">
              <thead>
                <tr>
                  <th>Limit Name</th>
                  <th>Values</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let key of this.limitKeys">
                  <td>{{ key }}</td>
                  <td>{{ this.device.vulkanInfo.properties.limits[key] }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>
      </div>
      <div id="featuresTab" class="tab-content" *ngIf="tabIndex === 'features' && device.vulkanInfo.features !== null">
        <div class="container">
          <section class="section">
            <div class="page-content" style="overflow: auto">
              <table class="table table-striped table-bordered table-responsive">
                <thead>
                  <tr>
                    <th>Feature name</th>
                    <th>Active</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let key of this.featureKeys">
                    <td>{{ key }}</td>
                    <td>
                      <span class="glyphicon"
                        [class.glyphicon-ok]="this.device.vulkanInfo.features[key] === true"
                        [class.text-success]="this.device.vulkanInfo.features[key] === true"
                        [class.glyphicon-remove]="this.device.vulkanInfo.features[key] === false"
                        [class.text-danger]="this.device.vulkanInfo.features[key] === false"
                      aria-hidden="true"></span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>
        </div>
      </div>
      <div id="memoryTab" class="tab-content">
        <div class="container">
          <section class="section" *ngIf="tabIndex === 'memorytype'">
            <div class="page-header">
              <h2>Memory type</h2>
            </div>
            <div class="page-content" style="overflow: auto">
              <table class="table table-striped table-bordered table-responsive" *ngFor="let memoryType of device.vulkanInfo.memory.memoryTypes; let heapIndex = index">
                <thead>
                  <tr>
                    <th colspan="2">
                      Memory type {{ heapIndex }}
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="key">
                      <span>Heapindex</span>
                    </td>
                    <td>
                      <span>{{ memoryType.heapIndex }}</span>
                    </td>
                  </tr>
                  <tr>
                    <td class="key">Flags</td>
                    <td *ngIf="memoryType.propertyFlags && memoryType.propertyFlags.length">
                      <span *ngFor="let propertyFlag of memoryType.propertyFlags">
                        {{ propertyFlag }},
                      </span>
                    </td>
                    <td *ngIf="!memoryType.propertyFlags || !memoryType.propertyFlags.length">
                      <span>
                        No flags
                      </span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>
          <section class="section" *ngIf="tabIndex === 'memoryheap'">
            <div class="page-header">
              <h2>Memory heap</h2>
            </div>
            <div class="page-content" style="overflow: auto">
              <table class="table table-striped table-bordered table-responsive" *ngFor="let memoryHeap of this.device.vulkanInfo.memory.memoryHeaps; let memoryHeapIndex = index">
                <thead>
                  <tr>
                    <th colspan="2">
                      Memory heap {{ memoryHeapIndex }}
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th class="key">Memory size</th>
                    <td>{{ memoryHeap.size }}</td>
                  </tr>
                  <tr>
                    <th class="key">Property flags</th>
                    <td *ngIf="memoryHeap.flags.length">
                      <div *ngFor="let flag of memoryHeap.flags">
                        {{ flag }}
                      </div>
                    </td>
                    <td *ngIf="!memoryHeap.flags.length">
                      <div>No flags</div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>
        </div>
      </div>
      <div id="extensionsTab" class="tab-content" *ngIf="tabIndex === 'extensions' && this.device.vulkanInfo.extensions">
        <section class="section">
          <table class="table table-striped table-bordered table-responsive">
            <thead>
              <tr>
                <th>Extension name</th>
                <th>Spec Version</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let extension of this.device.vulkanInfo.extensions">
                <td>{{ extension.extensionName }}</td>
                <td>{{ extension.specVersion }}</td>
              </tr>
            </tbody>
          </table>
        </section>
      </div>
      <div id="formatsTab" class="tab-content" *ngIf="tabIndex === 'formats' && device.vulkanInfo.formats !== null">
        <div class="container-fluid section" style="overflow: auto">
          <table class="table table-responsive table-bordered table-striped">
            <thead>
              <tr>
                <th></th>
                <th>Buffer features</th>
                <th>Linear tiling features</th>
                <th>Optimal tiling features</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let formatObject of this.device.vulkanInfo.formats">
                <th>{{ formatObject[0] }}</th>
                <td>
                  <span *ngFor="let feature of formatObject[1].bufferFeatures">
                    {{ feature }}
                  </span>
                </td>
                <td>
                  <span *ngFor="let feature of formatObject[1].linearTilingFeatures">
                    {{ feature }}
                  </span>
                </td>
                <td>
                  <span *ngFor="let feature of formatObject[1].optimalTilingFeatures">
                    {{ feature }}
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div id="queuesTab" class="tab-content" *ngIf="tabIndex === 'queues' && device.vulkanInfo.queues !== null">
        <section class="section">
          <table class="table table-striped table-bordered table-responsive" *ngFor="let queue of this.device.vulkanInfo.queues; let i = index;">
            <thead>
              <tr>
                <td colspan="2">
                  <strong>
                  Queue #{{i}}
                  </strong>
                </td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td width="30%">
                  queueCount
                </td>
                <td width="70%">
                  {{ queue.queueCount }}
                </td>
              </tr>
              <tr>
                <td width="30%">
                  Flags
                </td>
                <td width="70%">
                  <span *ngFor="let flag of this.queue.queueFlags">
                    {{ flag }}<br>
                  </span>
                </td>
              </tr>
              <tr>
                <td width="30%">
                  timestampValidBits
                </td>
                <td width="70%">
                  {{ queue.timestampValidBits }}
                </td>
              </tr>
              <tr>
                <td width="30%">
                  minImageTransferGranularity.width
                </td>
                <td width="70%">
                  {{ queue.minImageTransferGranularity.width }}
                </td>
              </tr>
              <tr>
                <td width="30%">
                  minImageTransferGranularity.height
                </td>
                <td width="70%">
                  {{ queue.minImageTransferGranularity.height }}
                </td>
              </tr>
              <tr>
                <td width="30%">
                  minImageTransferGranularity.depth
                </td>
                <td width="70%">
                  {{ queue.minImageTransferGranularity.depth }}
                </td>
              </tr>
            </tbody>
          </table>
        </section>
      </div>
    </div>
  </div>
</div>